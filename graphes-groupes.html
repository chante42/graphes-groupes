<!-- http://bootstrap-doc.prauds.fr/index3.php?
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	<head>
		<meta charset="utf-8">
  		<meta nom="viewport" content="width=device-width, initial-scale=1">

		<title>Graphique Groupés</title>
  		<script src="my-js/jquery.min.js"></script>
  		<script src="my-js/bootstrap.min.js"></script>
		<link rel="stylesheet" type="text/css" href="css/common.css" >
		<script type="text/javascript" src="my-js/conf.js" id="scriptConfJS"></script>
		<script type="text/javascript" src="my-js/code.js"></script>
		<meta nom="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="css/bootstrap.min.css"> 


		<script>
	    $(document).ready(function() {
			var outputTitle='<span class="glyphicon glyphicon-stats" aria-hidden="true"></span> Groupe :<ul>';
			var outputGraph ="";
			for (var i in conf.groups) {
				outputTitle+= "<li onclick=\"chg_groupe("+i+");\">"+conf.groups[i].groupeNom + "</li> ";


			}
			//outputTitle += "</ul>	<p>A</p><p>A</p><p>A</p><p>A</p><p>A</p><p>A</p><p>A</p><p>A</p><p>A</p><p>A</p><p>A</p><p>A</p><p>A</p><p>A</p><p>A</p><p>A</p><p>A</p><p>A</p><p>A</p><p>A</p><p>A</p><p>A</p><p>A</p><p>A</p><p>A</p>";
			console.log(outputTitle);
			console.log(outputGraph);
			$("#groupe").html(outputTitle);
			affiche();

		});

			//authentifie("http://vli5res01/pnp4nagios/", "readonly", "onlyread");
		</script>	

		
	</head>

	<body>
		<nav role="navigation" class="navbar   navbar-default navbar-fixed-top">
			<ul class="nav-tabs list-group" 	>
	      	  	<div class="navbar-header">
	            	<button type="button" data-target="#navbarCollapse" data-toggle="collapse" class="navbar-toggle">
		                <span class="sr-only">Toggle navigation</span>
		                <span class="icon-bar"></span>
		                <span class="icon-bar"></span>
		                <span class="icon-bar"></span>
		            </button>
		            <a href="#" class="navbar-brand">Graphes Groupés</a>
		        </div> 
	      	  	
	        	
		        <li onclick="chg_echelle(0);"><button type="button" class="btn btn-primary navbar-btn"><span class="glyphicon glyphicon-time"> Heure</span></button></li>
				<li  onclick="chg_echelle(1);"><button type="button" class="btn btn-primary navbar-btn"><span class="glyphicon glyphicon-time"> 24h</span></button></li> 
				<li  onclick="chg_echelle(2);"><button type="button" class="btn btn-primary navbar-btn"><span class="glyphicon glyphicon-time"> Jours</span></button></li>
				<li onclick="chg_echelle(3);"><button type="button" class="btn btn-primary navbar-btn"><span class="glyphicon glyphicon-time"> Semaine</span></button></li>
				<li  onclick="chg_echelle(4);"><button type="button" class="btn btn-primary navbar-btn"><span class="glyphicon glyphicon-time"> Mois</span></button></li>
				

				<li class="pull-right" onclick="$('#messageHelpcontenue').toggle()"><button type="button" class="btn btn-primary navbar-btn navbar-right"><span class="glyphicon glyphicon-info-sign">Aide </span> </button></li>
		    	
		    	<li class="pull-right" onclick="configButton_onclick();"><button type="button" class="btn btn-primary navbar-btn navbar-right"><span class="glyphicon glyphicon-cog"> Configuration </span></button></li>
		            
		    </ul>
		</nav>    
	    <div class="container-fluid" >

     		 <div class="page-header" id="banner">

				<div class="row" >
					<ul  class="col-md-2 list-group">
						<li id="groupe" class="list-group-item">

				    	</li>
				    </ul>
					
					<div  class="col-md-10">
						<div class=" panel-success"hidden="hidden" id="configContenue">
						 	<div class="panel-heading text-center">	
								Configuration
							</div>
							 <div class="panel-body">
                                 <pre id="configTxt">
                                 </pre>
							</div>
						</div>
						 <div class=" panel-info "hidden="hidden" id="messageHelpcontenue">
						 	<div class="panel-heading text-center">	
								Documentation
							</div>
							<div class="panel-body">
								<PRE>
DESCRIPTION DES MOTS CLEF :
---------------------------
// groupeNom 			: [Obligatoire] Nom du groupe qui apparait dans le menu sur la gauche
// groupeTitre 			: [facultatif] 
// groupeDescription 	: [facultatif] 
// graph				: [Obligatoire] Tableau de structure {nom, imageURL, ...} qui permet de définir un graphique
// nom 					: [Obligatoire] Nom d'un graph qui apparait sur le menu a gauche 
// nomTitre          	: [facultatif]  Titre du graphique 
// imageURL 			: [Obligatoire si pas groupeImageURL non définie] URL pour afficher l'image. Peux contenir des variables (%%nomvar%%)
// groupeImageURL		: [facultatif] URL pour le groupe


GESTION DES VARIABLE:
---------------------
   Pour évalué une variable il faut l'entrourré de '%%'.    ex %%var1%%


VARIABLES RESERVES :
--------------------

 %%echelle%% : Permet de choisir le zoom actuel : telque définie par "cacti,pnp4nagios, ..."

EXEMPLE DE FICHIER DE CONFIG
----------------------------
var conf = { 
	"groups" : [  
	    {	"groupeNom" : "conso elec C7000",     
	    	"groupeTitre" : "Consomation éléctrique des chassis C7000",
			"groupeDescription" : "",
			"groupeImageURL" : "http://vli5res01/pnp4nagios/image?host=%%var1%%&srv=HP_blade_enclosure_health&view=%%echelle%%&source=0",
	    	"graph" : [    
				{"nom" : "OA1C1B94"		,"var1" : "OA1C1B94"},  
				{"nom" : "OA1C2A92"		,"var1" : "OA1C2A92"},  
			    {"nom" : "OA1C3B94"		,"var1" : "OA1C3B94"},  
				{"nom" : "OA1C4A92"		,"var1" : "OA1C4A92"},  
				{"nom" : "OA1C5B94"		,"var1" : "OA1C5B94"},  
				{"nom" : "OA1C6A92"		,"var1" : "OA1C6A92"},  
				{"nom" : "OA1C7B94"		,"var1" : "OA1C7B94"},  
				{"nom" : "OA1C8A92"		,"var1" : "OA1C8A92"}   
			]},   
		{	"groupeNom" : "C7000 C2 Réseau VC",     
	    	"groupeTitre" : "Débit  des 2 VC composés de 4 liens 10Gb/s du chassis C2",
			"groupeDescription" : "",
			"groupeImageURL" : "http://supervisiondc/cacti/graph_image.php?action=view&local_graph_id=%%var1%%&rra_id=%%echelle%%",
	    	"graph" : [    
				{"nom" : "Portchanel 310 A92 46"	, "var1" : "5737"},  
				{"nom" : "Portchanel 310 A92 48"	, "var1" : "5793"}, 
				{"nom" : "Portchanel 309 A92 46"	, "var1" : "5853"}, 
				{"nom" : "Portchanel 309 A92 48"	, "var1" : "5792"}, 		
			]
		}
	]
};
								</pre>
							</div>

						 </div>
						<div class="row" >
							<p id="graphTitre">Title Groupe</p>
						</div>
						
						<div class="row">						
						    <div id="graphZone1" class="col-md-6" >
							</div>
							<div id="graphZone2" class="col-md-6">
							</div>
						</div>
					</div>	
				</div>
			</div>
			<footer>
	  	     <div >O Chanteloup 2016 v0.3 </div>
	    </footer>
	  
		</div>	 
			    
	    


	</body>
</html> 